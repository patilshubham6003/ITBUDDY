<div nz-row nzType="flex">
    <div nz-col nz-col nz-row nzXs="24" nzSm="24" nzMd="6" nzLg="6" nzXl="6">
        <div class="formname">
            <b>Quarter Surrender Requests</b>
        </div>
    </div>

    <div nz-col nzXs="24" nzSm="24" nzMd="18" nzLg="18" nzXl="18" style="display: flex; justify-content: flex-end">
        <form nz-form [nzLayout]="'inline'">
            <nz-form-item>
                <button nz-button nzTooltipTitle="Filter" nzTooltipPlacement="top" nz-tooltip [nzType]="isFilterApplied"
                    (click)="showFilter()">
                    <i nz-icon nzType="filter"></i>
                </button>
            </nz-form-item>

            <nz-form-item>
                <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                    <input type="text" name="postsearch" (keyup)="search(true)" [(ngModel)]="searchText" nz-input
                        placeholder="Search Record" />
                </nz-input-group>
                <ng-template #suffixIconButton>
                    <button nz-button nzType="primary" id="button" (click)="search(true)" nzSearch>
                        <i nz-icon nzType="search"></i>
                    </button>
                </ng-template>
            </nz-form-item>

        </form>
    </div>

    <div nz-col nzSpan="24">
        <div nz-row>
            <div nz-col nzSpan="24">
                <div class="filter {{ filterClass }}">
                    <div class="filter-box">
                        <form nz-form>
                            <div nz-row>

                                <div nz-col nzSpan="8">
                                    <nz-form-item class="changemadeg">
                                        <nz-form-label nzRequired nzNoColon>Select
                                            Month</nz-form-label>
                                        <nz-form-control nzErrorTip="Please Select Month">
                                            <nz-range-picker name="month" nzMode="month" [(ngModel)]="Monthrange"
                                                nzPlaceholder="Please select Month" nzFormat="MMM/yyyy"
                                                (ngModelChange)="onChangemonth($event)"></nz-range-picker>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>

                                <!-- <div nz-col nzSpan="7">
                                    <nz-form-item class="chsaaa">
                                        <nz-form-label nzNoColon>Residence Type</nz-form-label>
                                        <nz-form-control>
                                            <nz-select
                                                [nzMaxTagCount]="2"
                                                nzShowSearch
                                                nzAllowClear
                                                nzPlaceHolder="Please Select Residence Type "
                                                name="Residence Type"
                                                nzMode="multiple"
                                                [(ngModel)]="RESIDENCE_TYPE_ID">
                                                <nz-option
                                                    *ngFor="let type of ResidenceTypelist"
                                                    [nzValue]="type.ID"
                                                    [nzLabel]="type.TYPE">
                                                </nz-option>
                                            </nz-select>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div> -->

                                <div nz-col nzSpan="8" style="display: flex;gap: 10px;margin-top: 31px;">
                                    <button nz-button [nzLoading]="isSpinning" nzType="primary" class="flexicons"
                                        (click)="applyFilter()">
                                        <i nz-icon nzType="filter"></i>Apply
                                        Filter
                                    </button>
                                    <button nz-button nzType="primary" class="flexicons" (click)="clearFilter()">
                                        <i nz-icon nzType="close"></i>Clear
                                        filter
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div nz-row>
    <div nz-col nzSpan="4"></div>
    <div nz-col nzSpan="5" style="padding: 5px; cursor: pointer">
        <div style="text-align: center">
            <button [ngClass]="showcolor3 == 1? 'button-29': 'button-28'" role="button"
                (click)="clickevent('P')">Pending
                <span *ngIf="pendingscounts != undefined && pendingscounts != null">{{
                    pendingscounts
                    }}</span></button>
        </div>
    </div>
    <div nz-col nzSpan="5" style="padding: 5px; cursor: pointer">
        <div style="text-align: center">
            <button [ngClass]="showcolor1 == 1? 'button-29': 'button-28'" role="button"
                (click)="clickevent('A')">Approved
                <span *ngIf="approvedcounts != undefined && approvedcounts != null">{{
                    approvedcounts
                    }}</span></button>
        </div>
    </div>
    <div nz-col nzSpan="5" style="padding: 5px; cursor: pointer">
        <div style="text-align: center">
            <button [ngClass]="showcolor2 == 1? 'button-29': 'button-28'" role="button"
                (click)="clickevent('R')">Rejected
                <span *ngIf="rejectscounts != undefined && registercounts != null">{{
                    rejectscounts
                    }}</span></button>
        </div>
    </div>
    <div nz-col nzSpan="5"></div>

</div>
<div nz-row>
    <div nz-col nzSpan="24">
        <nz-table class="my-scroll no-wrap1" nzBordered #DownLoadstable nzShowSizeChanger [nzFrontPagination]="false"
            [nzData]="dataList" [nzLoading]="loadingRecords" [nzSize]="'small'" [nzScroll]="{ x: '1800px', y: '360px' }"
            [nzTotal]="totalRecords" [(nzPageIndex)]="pageIndex" [(nzPageSize)]="pageSize"
            (nzPageIndexChange)="search()" (nzPageSizeChange)="search(true)" (nzQueryParams)="sort($event)"
            style="white-space: inherit">
            <thead>
                <tr>
                    <!-- <th nzAlign="center" style="font-weight: bold;">View Form</th> -->
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="220px" *ngIf="APPROVAL_STATUS=='P'">Action
                    </th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="200px"
                        nzColumnKey="{{ 'SURRENDER_FORM_SUBMITTED_DATE_TIME' }}" [nzSortFn]="true">Request Date</th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="200px" *ngIf="APPROVAL_STATUS=='A'"
                        nzColumnKey="{{ 'SURRENDER_INSPECTOR_APPROVED_DATE_TIME' }}" [nzSortFn]="true">Approved Date
                    </th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="200px" *ngIf="APPROVAL_STATUS=='R'"
                        nzColumnKey="{{ 'SURRENDER_INSPECTOR_APPROVED_DATE_TIME' }}" [nzSortFn]="true">Rejected Date
                    </th>

                    <th nzAlign="center" style="font-weight: bold;" nzWidth="250px" nzColumnKey="{{ 'EMPLOYEE_NAME' }}"
                        [nzSortFn]="true">Employee Name</th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="250px" nzColumnKey="{{ 'CITY_NAME' }}"
                        [nzSortFn]="true">
                        City</th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="250px" nzColumnKey="{{ 'AREA_NAME' }}"
                        [nzSortFn]="true">
                        Area</th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="200px" nzColumnKey="{{ 'BUILDING_NAME' }}"
                        [nzSortFn]="true">Building</th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="250px" nzColumnKey="{{ 'FLAT_NAME' }}"
                        [nzSortFn]="true">
                        Quarter</th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="300px"
                        nzColumnKey="{{ 'SURRENDER_INSPECTOR_REMARK' }}" [nzSortFn]="true" *ngIf="APPROVAL_STATUS=='R'">
                        Inspector Remark</th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="200px">License Fee Letter</th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="200px">Light Bill Letter</th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="200px">Signed Surrender Letter</th>
                    <th nzAlign="center" style="font-weight: bold;" nzWidth="200px" *ngIf="APPROVAL_STATUS=='A'">
                        Vacation Certificate</th>
                    <!-- <th nzAlign="center" style="font-weight: bold;" nzWidth="200px"
                        nzColumnKey="{{ 'SURRENDER_INSPECTOR_STATUS' }}" [nzSortFn]="true">Status</th> -->


                    <!-- <th nzAlign="center" style="font-weight: bold;">Status</th> -->
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of DownLoadstable.data">

                    <td nzAlign="center" *ngIf="APPROVAL_STATUS=='P'">
                        <!-- <a *ngIf="data.SURRENDER_INSPECTOR_STATUS == 'P'" (click)="AcceptCaretaker(data)">Accept</a>
                        <a *ngIf="data.SURRENDER_INSPECTOR_STATUS == 'P'" (click)="Rejectcaretaker(data)">
                            &nbsp;&nbsp;&nbsp;
                            Reject</a> -->

                        <button nz-button nzType="primary" class="btn btn-primary"
                            *ngIf="data.SURRENDER_INSPECTOR_STATUS == 'P'"
                            (click)="AcceptCaretaker(data)">Approve</button>&nbsp;&nbsp;
                        <button nz-button nzType="default" class="btn btn-primary"
                            *ngIf="data.SURRENDER_INSPECTOR_STATUS == 'P'" nzDanger (click)="Rejectcaretaker(data)">

                            Reject</button>

                        <!-- <span *ngIf="data.SURRENDER_INSPECTOR_STATUS == 'R'" style="color:Red">Rejected</span>
                        <span *ngIf="data.SURRENDER_INSPECTOR_STATUS == 'A'" style="color:Green">Approved</span> -->
                    </td>
                    <td nzAlign="center">{{data.SURRENDER_FORM_SUBMITTED_DATE_TIME| date:'dd-MMM-yyyy'}}</td>
                    <td nzAlign="center" *ngIf="APPROVAL_STATUS=='A' || APPROVAL_STATUS=='R'">
                        {{data.SURRENDER_INSPECTOR_APPROVED_DATE_TIME|
                        date:'dd-MMM-yyyy'}}</td>

                    <td nzAlign="center">{{data.EMPLOYEE_NAME}}</td>
                    <td nzAlign="center">{{data.CITY_NAME}}</td>
                    <td nzAlign="center">{{data.AREA_NAME}}</td>
                    <td nzAlign="center">{{data.BUILDING_NAME}}</td>
                    <td nzAlign="center">{{data.FLAT_NAME}}</td>
                    <td nzAlign="center" *ngIf="APPROVAL_STATUS=='R'">{{data.SURRENDER_INSPECTOR_REMARK}}</td>
                    <td nzAlign="center">
                        <span *ngIf="
                data.LICENSE_FEE_LETTER != null &&
                data.LICENSE_FEE_LETTER != ''
              " nz-icon nzTooltipTitle="Preview" nzTooltipPlacement="top" nz-tooltip nzType="eye" nzTheme="outline"
                            style="cursor: pointer; color: #1890ff"
                            (click)="viewsurrederform(data.LICENSE_FEE_LETTER,'a')"></span>
                    </td>
                    <td nzAlign="center">
                        <span *ngIf="
                data.LIGHT_BILL_LETTER != null &&
                data.LIGHT_BILL_LETTER != ''
              " nz-icon nzTooltipTitle="Preview" nzTooltipPlacement="top" nz-tooltip nzType="eye" nzTheme="outline"
                            style="cursor: pointer; color: #1890ff"
                            (click)="viewsurrederform(data.LIGHT_BILL_LETTER,'b')"></span>
                    </td>
                    <td nzAlign="center">
                        <span *ngIf="
                data.SIGNED_SURRENDER_LETTER != null &&
                data.SIGNED_SURRENDER_LETTER != ''
              " nz-icon nzTooltipTitle="Preview" nzTooltipPlacement="top" nz-tooltip nzType="eye" nzTheme="outline"
                            style="cursor: pointer; color: #1890ff"
                            (click)="viewsurrederform(data.SIGNED_SURRENDER_LETTER,'c')"></span>
                    </td>
                    <td nzAlign="center" *ngIf="APPROVAL_STATUS=='A'">
                        <span *ngIf="
                data.SURRENDER_INSPECTOR_LETTER != null &&
                data.SURRENDER_INSPECTOR_LETTER != ''
              " nz-icon nzTooltipTitle="Preview" nzTooltipPlacement="top" nz-tooltip nzType="eye" nzTheme="outline"
                            style="cursor: pointer; color: #1890ff"
                            (click)="viewsurrederform(data.SURRENDER_INSPECTOR_LETTER,'d')"></span>
                    </td>
                    <!-- 
                    <td nzAlign="center">
                        <nz-tag [nzColor]="'green'" *ngIf="data.SURRENDER_INSPECTOR_STATUS == 'A'">Approved</nz-tag>
                        <nz-tag [nzColor]="'red'" *ngIf="data.SURRENDER_INSPECTOR_STATUS == 'R'">Rejected</nz-tag>
                        <nz-tag [nzColor]="'yellow'" *ngIf="data.SURRENDER_INSPECTOR_STATUS == 'P'">pending</nz-tag>

                    </td> -->
                </tr>
            </tbody>
        </nz-table>
    </div>
</div>

<nz-modal [(nzVisible)]="Acceptmodal" nzCentered="true" [nzBodyStyle]="{ padding: '16px' }" nzWidth="570px"
    nzClosable="false" [nzFooter]="contextofrules1" nzMaskClosable="false">
    <ng-container *nzModalContent>
        <span style="font-size: 18px; font-weight: 500">Are you sure want to
            approve Quarter Surrender Request</span>
        <hr style="margin: 8px 0" />

        <p style="font-size: 14px; margin-bottom: 10px; color: red; font-weight: 500">
            *Please note that changes cannot be made after request is approved.
        </p>

        <!-- <p style="font-size: 13px;margin-bottom: 0px;">By clicking <b>Send for Verification</b> , you acknowledge that the information provided in your application is accurate and complete. Once submitted, you may not be able to make further changes until the verification process is complete.</p> -->
    </ng-container>

    <ng-template #contextofrules1>
        <button nz-button nzType="primary" [nzLoading]="loadingRecords" class="btn btn-primary"
            style="background-color: #006699" (click)="acceptmodalcheck()">
            Approve
        </button>
        <button nz-button nzType="default" [nzLoading]="loadingRecords" class="btn btn-primary" (click)="cancelmodal()">
            Cancel
        </button>
    </ng-template>
</nz-modal>

<nz-modal [(nzVisible)]="RejectModalCaretaker" nzCentered="true" nzTitle="Rejection Remark"
    [nzBodyStyle]="{ padding: '0px 20px' }" nzWidth="480px" nzClosable="true" (nzOnCancel)="Cancelsurrendermodal()"
    [nzFooter]="contextofrules2" nzMaskClosable="false">
    <ng-container *nzModalContent>
        <div nz-row>
            <div nz-col nzSpan="24" style="padding: 5px">
                <nz-form-label style="padding:0px 0px" nzRequired nzNoColon>Remark:</nz-form-label>
                <nz-form-item>
                    <nz-form-control nzRequired nzErrorTip>
                        <textarea required maxlength="512" placeHolder="Enter The Remark"
                            style="width: 100%; height: 100%" [(ngModel)]="CARETAKER_REMARK" name="REASON"
                            [nzAutosize]="{ minRows: 3, maxRows: 3 }" nz-input></textarea>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>
    </ng-container>

    <ng-template #contextofrules2>
        <button nz-button nzType="default" class="btn btn-primary" (click)="Cancelsurrendermodal()">
            Cancel
        </button>
        <button nz-button nzType="primary" class="btn btn-primary" [nzLoading]="loadingRecords"
            style="background-color: red" (click)="RejectSurrender()">
            Reject
        </button>
    </ng-template>
</nz-modal>



<div *ngIf="POPreview">
    <nz-drawer [nzBodyStyle]="{
      height: 'calc(100% - 55px)',
      overflow: 'auto',
      'padding-bottom': '53px',
      'padding-top': '10px'
    }" [nzClosable]="true" [nzMask]="true" (nzOnClose)="cancelmodal()" [nzMaskClosable]="false" [nzWidth]="'85%'"
        [nzVisible]="POPreview" [nzTitle]="' Approve Surrender Request '" (nzKeyboard)="(false)">
        <ng-container *nzDrawerContent>
            <!-- <nz-spin [nzSpinning]="isSpinningmodal"> -->
            <div nz-row nzGutter="8">
                <div nz-col nzSpan="6" class="my-box gutter-row" style="height: 75vh;overflow-y: auto;">
                    <div nz-row>
                        <div nz-col nzSpan="24">
                            <nz-form-item style="margin-bottom: 5px !important;">
                                <nz-form-label nzRequired nzNoColon>Signature </nz-form-label>
                                <nz-form-control nzErrorTip="Select Signature" style="width: 100%;">
                                    <nz-select name="NEW_SIGNATURE_ID1" [(ngModel)]="NEW_SIGNATURE_ID" nzAllowClear
                                        nzShowSearch nzPlaceHolder="Choose Signature" style="width: 100%;"
                                        (ngModelChange)="signature($event)">
                                        <nz-option *ngFor="let user of Signaturearray" [nzValue]="user.ID"
                                            [nzLabel]="user.NAME">
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="24">
                            <nz-form-item style="margin-bottom: 5px !important;">
                                <nz-form-label nzRequired nzNoColon>Select Date</nz-form-label>
                                <nz-form-control nzErrorTip="Select Date" style="width: 100%;">
                                    <nz-date-picker nzFormat="dd/MM/yyyy" nzAllowClear="false" style="width: 100%"
                                        [nzDisabledDate]="disabledStartDate" [(ngModel)]="todaysdateee"
                                        name="todaysdateee"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="24">
                            <nz-form-item style="margin-bottom: 5px !important;">
                                <nz-form-label nzRequired nzNoColon>Vacant Order Number</nz-form-label>

                                <nz-form-control nzErrorTip="Enter Vacant Order Number" style="width: 100%;">
                                    <input nz-input name="VACANT_ORDER_NO" required [(ngModel)]="VACANT_ORDER_NO"
                                        style="width: 100%;" maxlength="150" required
                                        placeHolder="Vacant Order Number" />
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="24">
                            <nz-form-item style="margin-bottom: 5px !important;">
                                <nz-form-label nzRequired nzNoColon>Designation</nz-form-label>

                                <nz-form-control nzErrorTip="Enter Designation" style="width: 100%;">
                                    <input nz-input name="DESIGNATIONT" required [(ngModel)]="DESIGNATIONT"
                                        maxlength="256" required placeHolder="Designation" style="width: 100%;" />
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="24">
                            <nz-form-item style="margin-bottom: 5px !important;">
                                <nz-form-label nzRequired nzNoColon>Address</nz-form-label>

                                <nz-form-control nzErrorTip="Enter Address" style="width: 100%;">
                                    <input nz-input name="ADDRESS" required style="width: 100%;" [(ngModel)]="ADDRESS"
                                        maxlength="256" required placeHolder="Address" />
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="24">
                            <nz-form-item style="margin-bottom: 5px !important;">
                                <nz-form-label nzRequired nzNoColon>Vacated Date
                                </nz-form-label>
                                <nz-form-control nzErrorTip="Select Date" style="width: 100%;">
                                    <nz-date-picker nzFormat="dd/MM/yyyy" nzAllowClear="false"
                                        [(ngModel)]="dateprevioue" style="width: 100%"
                                        [nzDisabledDate]="disabledStartDate" name="dateprevioue"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="24">
                            <nz-form-item style="margin-bottom: 5px !important;">
                                <nz-form-label nzRequired nzNoColon>Request Date
                                </nz-form-label>
                                <nz-form-control nzErrorTip="Select Date" style="width: 100%;">
                                    <nz-date-picker nzFormat="dd/MM/yyyy" nzAllowClear="false"
                                        [(ngModel)]="dateprevioue1" style="width: 100%"
                                        [nzDisabledDate]="disabledStartDatess" name="dateprevioue1"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="24">
                            <nz-form-item style="margin-bottom: 5px !important;">
                                <nz-form-label nzRequired nzNoColon>Last Electricity Bill Date
                                </nz-form-label>
                                <nz-form-control nzErrorTip="Select Date" style="width: 100%">
                                    <nz-date-picker nzFormat="dd/MM/yyyy" nzAllowClear="false"
                                        [(ngModel)]="dateprevioue2" style="width: 100%"
                                        [nzDisabledDate]="disabledStartDatess" name="dateprevioue2"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                    </div>
                </div>

                <div class="my-box gutter-row" nz-col nzSpan="18" style="height: 75vh;overflow-y: auto;">
                    <!-- <nz-spin [nzSpinning]="IsspinningData"> -->
                    <div>
                        <div id="Prntmodal111">
                            <div style="margin-left: 40px; margin-right: 5px">
                                <div style="margin-left: 5px">
                                    <table style="border-collapse: collapse; width: 100%">
                                        <tr>
                                            <td style="
                            width: 40%;
                            font-size: 14px;
                            text-align: left;
                            padding: 5px 10px;
                            border: 1px solid black;
                            text-align: center;
                            border-bottom: none;
                          ">
                                                <div>कार्यालय</div>
                                                <div>प्रधान मुख्य आयकर आयुक्त</div>
                                                <div>तिसरी मंजिल, आयकर भवन,</div>
                                                <div> महर्षिकर्वे मार्ग, मुंबई - 400 020</div>
                                            </td>
                                            <td style="
                            width: 20%;
                            text-align: left;
                            padding: 5px 15px;
                            border: 1px solid black;
                            text-align: center;
                            border-bottom: none;
                          ">
                                                <img *ngIf="KeyImage === 'itbuddy'"
                                                    src="https://itbuddyadmin.uvtechsoft.com:9450/static/logo/govtOfIndia.png"
                                                    alt="Government of India" class="image" width="70px" height="110px"
                                                    style="padding: 4px 5px;" />
                                                <img *ngIf="KeyImage === 'incometax'"
                                                    src="https://www.incometaxmumbai.gov.in/employeecorner/assets/logo.png"
                                                    alt="Government of India" class="image" width="70px" height="110px"
                                                    style="padding: 4px 5px;" />
                                            </td>
                                            <td style="
                            width: 40%;
                            font-size: 14px;
                            text-align: left;
                            padding: 5px 10px;
                            border: 1px solid black;
                            text-align: center;
                            border-bottom: none;
                          ">
                                                <div>Office of the</div>
                                                <div>Pr. Chief Commissioner of Income Tax</div>
                                                <div>3rd Floor, Aayakar Bhavan,</div>
                                                <div>Maharshi Karve Road, Mumbai - 400 020</div>
                                            </td>
                                        </tr>

                                    </table>
                                    <table style="border-collapse: collapse; width: 100%">
                                        <tr style="font-size: 13px">
                                            <td style="
                            width: 40%;
                            text-align: left;
                            padding: 5px 15px;
                            border: 1px solid black;    border-bottom: 0px;
    border-right: 0px;
                          ">
                                                <div>फोन: 022-22017654</div>
                                            </td>
                                            <td style="
                            width: 60%;
                            text-align: left;
                            padding: 5px 10px;
                            border: 1px solid black;    border-bottom: 0px;
    border-left: 0px;
                          ">
                                                <div style="text-align: end;">Email:
                                                    mumbai.pccit@incometax.gov.in</div>
                                            </td>
                                        </tr>
                                    </table>
                                    <table style="border-collapse: collapse; width: 100%">
                                        <tr style="font-size: 13px">
                                            <td style="
                              width: 75%;
                              text-align: left;
                              padding: 5px 13px;
                              border: 1px solid black;
                              font-size: 13px;
                            ">
                                                No. Pr.CCIT/Mum/Admin/{{ VACANT_ORDER_NO }}
                                            </td>
                                            <td style="
                              width: 25%;
                              text-align: left;
                              padding: 5px 10px;
                              border: 1px solid black;
                              font-size: 13px;
                            ">
                                                Date :
                                                {{ todaysdateee | date : "dd/MM/yyyy" }}
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div style="line-height: 1.9">
                                    <div style="
                          padding-left: 20px;
                          font-size: 14px;
                          margin-top: 15px;
                        ">
                                        To<br />
                                        Shri/Smt./Ms. {{ empdata.EMPLOYEE_NAME }}<br />
                                        <span
                                            *ngIf="DESIGNATIONT !==null && DESIGNATIONT!==''">{{DESIGNATIONT}}<br /></span>
                                        <span *ngIf="ADDRESS !==null && ADDRESS!==''">{{ADDRESS}}<br /></span>
                                        Ma'am/Sir,
                                    </div>
                                    <br />
                                    <div style="
                          padding-left: 40px;
                          font-size: 14px;
                          margin-bottom: 10px;font-weight: bold
                        ">
                                        Sub: Certificate of vacation of Government Accommodation at Quarter No.
                                        {{
                                        empdata.FLAT_NAME != undefined
                                        ? empdata.FLAT_NAME
                                        : ""
                                        }},
                                        {{
                                        empdata.CITY_NAME != undefined
                                        ? empdata.CITY_NAME
                                        : ""
                                        }}<span *ngIf="DESIGNATIONT !==null && DESIGNATIONT!==''">,{{
                                            empdata.AREA_NAME != undefined
                                            ? empdata.AREA_NAME
                                            : ""
                                            }}</span> <span *ngIf="DESIGNATIONT !==null && DESIGNATIONT!==''">,{{
                                            empdata.BUILDING_NAME != undefined
                                            ? empdata.BUILDING_NAME
                                            : ""
                                            }}</span> :-reg.
                                    </div>

                                    <br />

                                    <div style="
                          margin-bottom: 10px;
                          padding-left: 20px;
                          font-size: 14px;
                          text-align: justify;
                        ">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is to certify that as per our
                                        office record,
                                        Quarter No.
                                        {{
                                        empdata.FLAT_NAME != undefined
                                        ? empdata.FLAT_NAME
                                        : ""
                                        }},
                                        {{
                                        empdata.CITY_NAME != undefined
                                        ? empdata.CITY_NAME
                                        : ""
                                        }}, {{
                                        empdata.AREA_NAME != undefined
                                        ? empdata.AREA_NAME
                                        : ""
                                        }}, {{
                                        empdata.BUILDING_NAME != undefined
                                        ? empdata.BUILDING_NAME
                                        : ""
                                        }},, was allotted to you and the same has been vacated on
                                        {{ dateprevioue | date : "dd/MM/yyyy" }}.
                                        Intimation in this regard was sent by you to this office vide email
                                        dated {{dateprevioue1| date : "dd/MM/yyyy"}} and
                                        the copy of receipt of last electricity bill payment was sent to this
                                        office vide email dated
                                        {{dateprevioue2| date : "dd/MM/yyyy"}}
                                    </div>
                                    <div style="
                          margin-top: 30px;
                          padding-left: 20px;
                          font-size: 14px;
                          text-align: end;justify-content: end;
                        ">
                                        Yours faithfully
                                    </div>

                                    <!-- <div style="
                          float: right;
                          text-align: center;
                          margin-top: auto;
                          width: 100%;
                          padding-top: 5%;
                          font-weight: 600;
                        ">
                                            <div style="
                            width: max-content;
                            margin-left: auto;
                            text-align: center;
                            line-height: 1.6;
                          "> -->

                                    <div style="
                float: right;
                text-align: center;
                margin-top: auto;
                width: 100%;
                padding-top: 5%;
                font-weight: 600;
              ">
                                        <div style="
                  width: max-content;
                  margin-left: auto;
                  text-align: center;
                  line-height: 1.6;
                ">
                                            <img *ngIf="SIGNATURE_IMAGE"
                                                style="height: 50px; max-width: 100%; margin-bottom: 5px"
                                                [src]="imgurl + 'signatureImage/' + SIGNATURE_IMAGE" alt="Signature" />
                                            <div>{{ NAME_HN ? "(" + NAME_HN + ")" : "" }}</div>
                                            <div>{{ SIGNNAME ? "(" + SIGNNAME + ")" : "" }}</div>
                                            <div *ngIf="POST_HIN">{{ POST_HIN }}</div>
                                            <div *ngIf="POST">{{ POST }}</div>
                                            <div *ngIf="OFFICE_NAME_HIN">
                                                {{ OFFICE_NAME_HIN }}
                                            </div>
                                            <div *ngIf="OFFICE_NAME">{{ OFFICE_NAME }}</div>
                                        </div>
                                    </div>
                                    <!--  <br /><br />
                                         <div style="text-align: center">
                                            <b>
                                                Note : This is computer generated letter signature not
                                                required.</b>
                                        </div> -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- </nz-spin> -->
                </div>
            </div>
            <!-- </nz-spin> -->
            <div class="footer">
                <button nz-button nzType="default" style="margin-right: 8px" (click)="cancelmodal()">
                    Cancel
                </button>
                <button nz-button nzType="primary" printSectionId="Prntmodal111" ngxPrint [useExistingCss]="true"
                    style="margin-right: 8px; color: white !important">
                    Print
                </button>
                <button nz-button nzType="primary" (click)="generaterenovationphysicalreminder()"
                    style="color: white !important">
                    Approve
                </button>

            </div>
        </ng-container>
    </nz-drawer>
</div>