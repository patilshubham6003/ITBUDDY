<div nz-row nzType="flex" nzJustify="space-between" style="align-items: center;">
  <div nz-col nzSpan="24" style="display: flex; align-items: center;margin-bottom: 5px;" class="formname">
    <span style="color: #006699;font-weight: 600;cursor: pointer;font-size: 14px;" nz-tooltip
      nzTooltipTitle="Back To Reports List" nzTooltipPlacement="top" (click)="showdash()">
      <svg xmlns="http://www.w3.org/2000/svg" width="26px" height="20px" viewBox="0 0 512 512" fill="#000000">
        <g id="SVGRepo_bgCarrier" stroke-width="0" />
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
        <g id="SVGRepo_iconCarrier">
          <title>ionicons-v5-a</title>
          <polyline points="244 400 100 256 244 112"
            style="fill:none;stroke:#006699;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px" />
          <line x1="120" y1="256" x2="412" y2="256"
            style="fill:none;stroke:#006699;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px" />
        </g>
      </svg>&nbsp;Back
    </span>
  </div>
</div>
<div nz-row nzType="flex">
  <div nz-col nzXs="24" nzSm="24" nzMd="14" nzLg="14" nzXl="14" nzSpan="14">
    <div class="formname">{{ formTitle }}</div>
  </div>

  <div nz-col nzXs="24" nzSm="24" nzMd="10" nzLg="10" nzXl="10" style="display: flex; justify-content: flex-end">

    <div style="display: flex; gap: 10px">
      <button style="margin: 0px 3xp" nz-button nzTooltipTitle="Excel" nzTooltipPlacement="top" nz-tooltip
        nzType="primary" (click)="importInExcel()" [nzLoading]="exportLoading">
        <i nz-icon nzType="file-excel" nzTheme="outline"></i>
      </button>
      <button style="margin: 0px 3xp" nz-button nzTooltipTitle="Filter" nzTooltipPlacement="top" nz-tooltip
        [nzType]="isFilterApplied" (click)="showFilter()">
        <i nz-icon nzType="filter"></i>
      </button>
    </div>
    <form nz-form [nzLayout]="'inline'">
      <nz-form-item class="Changeformitm" style="padding-right: 0px;margin-right: 0px;">
        <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
          <input type="text" name="webbannersearch" (keyup)="keyup($event)" [(ngModel)]="searchText" nz-input
            placeholder="Search " />
        </nz-input-group>
        <ng-template #suffixIconButton>
          <button nz-button nzType="primary" (click)="search()" nzSearch>
            <i nz-icon nzType="search"></i>
          </button>
        </ng-template>
      </nz-form-item>
    </form>
  </div>
</div>

<div nz-row>
  <div nz-col nzSpan="24">
    <div class="filter {{ filterClass }}">
      <div class="filter-box">
        <form nz-form>
          <div nz-row>
            <div nz-col nzSpan="6">
              <nz-form-item class="Changeformitm">
                <nz-form-label nzNoColon>Application Date</nz-form-label>
                <nz-form-control>
                  <nz-range-picker name="month" nzAllowClear="false" [(ngModel)]="Monthrange"
                    nzPlaceholder="Select Date" nzFormat="dd/MM/yyyy"></nz-range-picker>
                </nz-form-control>
              </nz-form-item>
            </div>

            <div nz-col nzSpan="6">
              <nz-form-item class="Changeformitm">
                <nz-form-label nzNoColon>Residence Type</nz-form-label>
                <nz-form-control>
                  <nz-select nzShowSearch nzAllowClear [nzMaxTagCount]="1" nzPlaceHolder="Please Select Residence Type "
                    name="Residence Type" nzMode="multiple" [(ngModel)]="RESIDENCE_TYPE_IDD">
                    <nz-option *ngFor="let type of ResidenceTypelist" [nzValue]="type.ID" [nzLabel]="type.TYPE">
                    </nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="6">
              <nz-form-item class="Changeformitm">
                <nz-form-label nzNoColon>Designation</nz-form-label>
                <nz-form-control>
                  <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Please Select Designation" name="DESIGNATION"
                    [(ngModel)]="DESIGNATION_ID" required>
                    <nz-option *ngFor="let desg of Designationtypes" [nzValue]="desg.ID" [nzLabel]="desg.NAME">
                    </nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div>

            <div nz-col nzSpan="6">
              <nz-form-item class="Changeformitm">
                <nz-form-label nzNoColon> Priority Date</nz-form-label>
                <nz-form-control>
                  <nz-range-picker name="Prioritydaterange" [(ngModel)]="Prioritydaterange"
                    nzPlaceholder="Select Priority Date" nzFormat="dd/MM/yyyy"></nz-range-picker>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="6">
              <nz-form-item class="Changeformitm">
                <nz-form-label nzNoColon> Joining Date</nz-form-label>
                <nz-form-control>
                  <nz-range-picker name="Joiningdaterange" [(ngModel)]="Joiningdaterange"
                    nzPlaceholder="Select Priority Date" nzFormat="dd/MM/yyyy"></nz-range-picker>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="6">
              <nz-form-item class="Changeformitm">
                <nz-form-label nzNoColon> Date of Birth</nz-form-label>
                <nz-form-control>
                  <nz-range-picker name="dobdaterange" [(ngModel)]="dobdaterange" nzPlaceholder="Select Priority Date"
                    nzFormat="dd/MM/yyyy"></nz-range-picker>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="6">
              <nz-form-item class="Changeformitm">
                <nz-form-label nzNoColon> Date of Retirement</nz-form-label>
                <nz-form-control>
                  <nz-range-picker name="reteimentdaterange" [(ngModel)]="reteimentdaterange"
                    nzPlaceholder="Select Priority Date" nzFormat="dd/MM/yyyy"></nz-range-picker>
                </nz-form-control>
              </nz-form-item>
            </div>

            <div nz-col nzSpan="6" style="display: flex; gap: 10px; margin-top: 31px">
              <nz-form-item class="Changeformitm" style="display: flex; gap: 10px;">
                <button nz-button [nzLoading]="isSpinning" nzType="primary"
                  style="padding: 4px 5px!important;height: 29px!important;font-size: 13px!important;" class="flexicons"
                  (click)="applyFilter()">
                  <i nz-icon nzType="filter"></i>Apply Filter
                </button>
                <button nz-button nzType="primary"
                  style="padding: 4px 5px!important;height: 29px!important;font-size: 13px!important;" class="flexicons"
                  [nzLoading]="isSpinning" (click)="clearFilter()">
                  <i nz-icon nzType="close"></i>Clear filter
                </button>
              </nz-form-item>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div nz-row>
  <div nz-col nzSpan="24">
    <nz-table class="my-scroll no-wrap1" nzBordered #Flatvacanttable nzShowSizeChanger [nzFrontPagination]="false"
      [nzData]="dataList" [nzLoading]="loadingRecords" [nzSize]="'small'" [nzTotal]="totalRecords"
      [nzScroll]="{ y: '400px' }" [(nzPageIndex)]="pageIndex" [(nzPageSize)]="pageSize" (nzPageIndexChange)="search()"
      (nzPageSizeChange)="search(true)" (nzQueryParams)="sort($event)" style="white-space: pre-line;">
      <thead>
        <tr>
          <th nzColumnKey="{{ 'APPLICATION_DATETIME' }}" nzWidth="180px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Application Date
          </th>
          <th nzColumnKey="{{ 'RESIDENCE_TYPE_NAME' }}" nzWidth="180px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Residence Type
          </th>
          <th nzColumnKey="{{ 'NAME' }}" nzWidth="250px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Employee Name
          </th>
          <th nzColumnKey="{{ 'EMPLOYEE_CODE' }}" nzWidth="160px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Employee Code
          </th>
          <th nzColumnKey="{{ 'DESIGNATION' }}" nzWidth="250px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Designation
          </th>
          <th nzColumnKey="{{ 'DATE_OF_PRIORITY' }}" nzWidth="180px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Priority Date
          </th>
          <th nzColumnKey="{{ 'PRESENT_PAY_LEVEL_DATE' }}" nzWidth="220px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Date of Present Pay Level
          </th>
          <th nzColumnKey="{{ 'JOINING_DATE' }}" nzWidth="180px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Date of Joining
          </th>

          <th nzColumnKey="{{ 'DOB' }}" nzWidth="180px" [nzSortFn]="true" style="font-weight: bold; text-align: center">
            Date of Birth
          </th>
          <th nzColumnKey="{{ 'RETIREMENT_DATE' }}" nzWidth="180px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Date of Retirement
          </th>
          <th nzColumnKey="{{ 'STATUS' }}" nzWidth="180px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Status
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of Flatvacanttable.data">
          <td style="text-align: center; white-space: pre-line">
            {{ data["APPLICATION_DATETIME"]? (data["DATE_OF_PRIORITY"] | date:'dd/MM/yyyy') : '_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            {{ data["RESIDENCE_TYPE_NAME"] ? data["RESIDENCE_TYPE_NAME"] : '_' }}
          </td>
          <td style="white-space: pre-line">
            {{ data["NAME"]? data["NAME"] : '_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            {{ data["EMPLOYEE_CODE"] ? data["EMPLOYEE_CODE"] : '_' }}
          </td>
          <td style="white-space: pre-line">
            {{ data["DESIGNATION"]? data["DESIGNATION"] : '_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            {{ data["DATE_OF_PRIORITY"]? (data["DATE_OF_PRIORITY"] | date:'dd/MM/yyyy') : '_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            {{ data["PRESENT_PAY_LEVEL_DATE"]? (data["PRESENT_PAY_LEVEL_DATE"] | date:'dd/MM/yyyy') : '_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            {{ data["JOINING_DATE"]? (data["JOINING_DATE"] | date:'dd/MM/yyyy') : '_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            {{ data["DOB"]? (data["DOB"] | date:'dd/MM/yyyy') : '_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            {{ data["RETIREMENT_DATE"]? (data["RETIREMENT_DATE"] | date:'dd/MM/yyyy') : '_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            <span *ngIf="data['STATUS'] == 'P'">Pending</span>
            <span *ngIf="data['STATUS'] == 'A'">Approved</span>
            <span *ngIf="data['STATUS'] == 'R'">Rejected</span>
            <span *ngIf="data['STATUS'] == 'D'">Deleted</span>
            <span *ngIf="data['STATUS'] == '' || data['STATUS'] == null">_</span>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </div>
</div>