<div nz-row nzType="flex" nzJustify="space-between" style="align-items: center;">
    <div nz-col nzSpan="24" style="display: flex; align-items: center;margin-bottom: 5px;" class="formname">
        <span style="color: #006699;font-weight: 600;cursor: pointer;font-size: 14px;" nz-tooltip
            nzTooltipTitle="Back To Reports List" nzTooltipPlacement="top" (click)="showdash()">
            <svg xmlns="http://www.w3.org/2000/svg" width="26px" height="20px" viewBox="0 0 512 512" fill="#000000">
                <g id="SVGRepo_bgCarrier" stroke-width="0" />
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
                <g id="SVGRepo_iconCarrier">
                    <title>ionicons-v5-a</title>
                    <polyline points="244 400 100 256 244 112"
                        style="fill:none;stroke:#006699;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px" />
                    <line x1="120" y1="256" x2="412" y2="256"
                        style="fill:none;stroke:#006699;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px" />
                </g>
            </svg>&nbsp;Back
        </span>
    </div>
</div>
<div nz-row nzType="flex">
    <div nz-col nzXs="24" nzSm="24" nzMd="14" nzLg="14" nzXl="14" nzSpan="14">
        <div class="formname">{{ formTitle }}</div>
    </div>

    <div nz-col nzXs="24" nzSm="24" nzMd="10" nzLg="10" nzXl="10" style="display: flex; justify-content: flex-end">

        <div style="display: flex;gap:10px">
            <button style="margin:0px 3xp" nz-button nzTooltipTitle="Excel" nzTooltipPlacement="top" nz-tooltip
                nzType="primary" (click)="importInExcel()" [nzLoading]="exportLoading">
                <i nz-icon nzType="file-excel" nzTheme="outline"></i>
            </button>
            <button style="margin:0px 3xp" nz-button nzTooltipTitle="Filter" nzTooltipPlacement="top" nz-tooltip
                [nzType]="isFilterApplied" (click)="showFilter()">
                <i nz-icon nzType="filter"></i>
            </button>
        </div>
        <form nz-form [nzLayout]="'inline'">

            <nz-form-item class="Changeformitm" style="padding-right: 0px;margin-right: 0px;">
                <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                    <input type="text" name="webbannersearch" (keyup)="keyup($event)" [(ngModel)]="searchText" nz-input
                        placeholder="Search " />
                </nz-input-group>
                <ng-template #suffixIconButton>
                    <button nz-button nzType="primary" (click)="search()" nzSearch><i nz-icon
                            nzType="search"></i></button>
                </ng-template>
            </nz-form-item>
        </form>
    </div>

</div>

<div nz-row>
    <div nz-col nzSpan="24">
        <div class="filter {{ filterClass }}">
            <div class="filter-box">
                <form nz-form>
                    <div nz-row>

                        <div nz-col nzSpan="8">
                            <nz-form-item class="Changeformitm">
                                <nz-form-label nzNoColon>Residence Type</nz-form-label>
                                <nz-form-control>
                                    <nz-select nzShowSearch nzAllowClear [nzMaxTagCount]="2"
                                        nzPlaceHolder="Select Residence Type" name="Residence Type" nzMode="multiple"
                                        [(ngModel)]="RESIDENCE_TYPE_IDD">
                                        <nz-option *ngFor="let type of ResidenceTypelist" [nzValue]="type.ID"
                                            [nzLabel]="type.TYPE">
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="8">
                            <nz-form-item class="Changeformitm">
                                <nz-form-label nzNoColon>Area Name</nz-form-label>
                                <nz-form-control>
                                    <nz-select name="AREA_ID" [(ngModel)]="AREA_ID" nzAllowClear nzShowSearch
                                        [nzMaxTagCount]="2" nzMode="multiple" (ngModelChange)="changearea($event)"
                                        nzPlaceHolder="Select Area">
                                        <nz-option *ngFor="let area of areaList" [nzValue]="area.ID"
                                            [nzLabel]="area.NAME">
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="8">
                            <nz-form-item class="Changeformitm">
                                <nz-form-label nzNoColon>Building</nz-form-label>
                                <nz-form-control>
                                    <nz-select nzShowSearch nzAllowClear [nzMaxTagCount]="2" nzMode="multiple"
                                        (ngModelChange)="ChangeBuilding($event)" nzPlaceHolder="Select Building "
                                        name="Building Name" [(ngModel)]="BUILDING_ID">
                                        <nz-option *ngFor="let data of BuildingList" [nzValue]="data.ID"
                                            [nzLabel]="data.NAME">
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                        </div>

                        <div nz-col nzSpan="5">
                            <nz-form-item class="Changeformitm">
                                <nz-form-label nzNoColon>Floor </nz-form-label>
                                <nz-form-control>
                                    <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select Floor" name="Floor "
                                        [(ngModel)]="FLOOR_ID">
                                        <nz-option *ngFor="let floor of FloorNo" [nzValue]="floor.ID"
                                            [nzLabel]="floor.NAME">
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                        </div>

                        <div nz-col nzSpan="19" style="display: flex;gap: 12px;margin-top: 26px;
                            align-self: center;">
                            <button nz-button [nzLoading]="isSpinning" nzType="primary" class="flexicons"
                                (click)="applyFilter()">
                                <i nz-icon nzType="filter"></i>Apply Filter
                            </button>
                            <button nz-button nzType="primary" class="flexicons" [nzLoading]="isSpinning"
                                (click)="clearFilter()">
                                <i nz-icon nzType="close"></i>Clear filter
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div nz-row>
    <div nz-col nzSpan="24">
        <nz-table class="my-scroll no-wrap1" nzBordered #Flatvacanttable nzShowSizeChanger [nzFrontPagination]="false"
            [nzData]="dataList" [nzLoading]="loadingRecords" [nzSize]="'small'" [nzTotal]="totalRecords"
            [nzScroll]="{ y: '400px' }" [(nzPageIndex)]="pageIndex" [(nzPageSize)]="pageSize"
            (nzPageIndexChange)="search()" (nzPageSizeChange)="search(true)" (nzQueryParams)="sort($event)"
            style="white-space: pre-line;">

            <thead>
                <tr>
                    <th nzColumnKey="{{ 'RESIDENCE_TYPE_NAME' }}" nzWidth="160px" [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Residence Type</th>
                    <th nzColumnKey="{{ 'AREA_NAME' }}" nzWidth="200px" [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Area Name</th>
                    <th nzColumnKey="{{ 'BUILDING_NAME' }}" nzWidth="180px" [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Building Name</th>
                    <th nzColumnKey="{{ 'FLOOR_NAME' }}" nzWidth="150px" [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Floor</th>
                    <th nzColumnKey="{{ 'NAME' }}" nzWidth="180px" [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Quarter Name</th>
                    <th nzColumnKey="{{ 'STATUS' }}" nzWidth="100px" [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Status</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of Flatvacanttable.data">
                    <td style="text-align: center;white-space: pre-line; " *ngIf="data!=undefined">
                        {{data['RESIDENCE_TYPE_NAME']? data['RESIDENCE_TYPE_NAME'] : "_"}}
                    </td>
                    <td style="white-space: pre-line; " *ngIf="data!=undefined">
                        {{data['AREA_NAME']?data['AREA_NAME'] :"_"}}
                    </td>
                    <td style="text-align: center;white-space: pre-line; " *ngIf="data!=undefined">
                        {{data['BUILDING_NAME']? data['BUILDING_NAME'] : "_"}}
                    </td>
                    <td style="text-align: center;white-space: pre-line; " *ngIf="data!=undefined">
                        {{data['FLOOR_NAME']? data['FLOOR_NAME'] : "_"}}
                    </td>
                    <td style="text-align: center;white-space: pre-line; " *ngIf="data!=undefined">
                        {{data['NAME']?data['NAME'] : "_"}}
                    </td>
                    <td style="text-align: center;white-space: pre-line; ">
                        <i nz-icon *ngIf="data!=undefined && data.STATUS==1" [nzType]="'check-circle'"
                            [nzTheme]="'twotone'" [nzTwotoneColor]="'#52c41a'"></i>
                        <i nz-icon *ngIf=" data!=undefined && data.STATUS==0" [nzType]="'close-circle'"
                            [nzTheme]="'twotone'" [nzTwotoneColor]="'#f50'"></i>
                    </td>
                </tr>
            </tbody>
        </nz-table>
    </div>
</div>