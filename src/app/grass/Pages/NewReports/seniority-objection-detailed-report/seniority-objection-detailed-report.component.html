<div nz-row nzType="flex" nzJustify="space-between" style="align-items: center;">
  <div nz-col nzSpan="24" style="display: flex; align-items: center;margin-bottom: 5px;" class="formname">
    <span style="color: #006699;font-weight: 600;cursor: pointer;font-size: 14px;" nz-tooltip
      nzTooltipTitle="Back To Reports List" nzTooltipPlacement="top" (click)="showdash()">
      <svg xmlns="http://www.w3.org/2000/svg" width="26px" height="20px" viewBox="0 0 512 512" fill="#000000">
        <g id="SVGRepo_bgCarrier" stroke-width="0" />
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
        <g id="SVGRepo_iconCarrier">
          <title>ionicons-v5-a</title>
          <polyline points="244 400 100 256 244 112"
            style="fill:none;stroke:#006699;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px" />
          <line x1="120" y1="256" x2="412" y2="256"
            style="fill:none;stroke:#006699;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px" />
        </g>
      </svg>&nbsp;Back
    </span>
  </div>
</div>
<div nz-row nzType="flex">
  <div nz-col nzXs="24" nzSm="24" nzMd="14" nzLg="14" nzXl="14" nzSpan="14">
    <div class="formname">{{ formTitle }}</div>
  </div>

  <div nz-col nzXs="24" nzSm="24" nzMd="10" nzLg="10" nzXl="10" style="display: flex; justify-content: flex-end">
    <form nz-form [nzLayout]="'inline'">
      <div style="display: flex; gap: 10px">
        <button style="margin: 0px 3xp" nz-button nzTooltipTitle="Excel" nzTooltipPlacement="top" nz-tooltip
          nzType="primary" (click)="importInExcel()" [nzLoading]="exportLoading">
          <i nz-icon nzType="file-excel" nzTheme="outline"></i>
        </button>

        <button nz-button nzTooltipTitle="Filter" nzTooltipPlacement="top" nz-tooltip [nzType]="isFilterApplied"
          (click)="showFilter()">
          <i nz-icon nzType="filter"></i>
        </button>
      </div>
    </form>

    <form nz-form [nzLayout]="'inline'">
      <nz-form-item class="Changeformitm" style="padding-right: 0px;margin-right: 0px;">
        <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
          <input type="text" name="quarterAllocationSearch" (keyup)="keyup($event)" [(ngModel)]="searchText" nz-input
            placeholder="Search " />
        </nz-input-group>
        <ng-template #suffixIconButton>
          <button nz-button nzType="primary" (click)="search()" nzSearch>
            <i nz-icon nzType="search"></i>
          </button>
        </ng-template>
      </nz-form-item>
    </form>
  </div>
</div>

<div nz-row>
  <div nz-col nzSpan="24">
    <div class="filter {{ filterClass }}">
      <div class="filter-box">
        <form nz-form>
          <div nz-row>
            <div nz-col nzSpan="6">
              <nz-form-item class="Changeformitm">
                <nz-form-label nzNoColon>Select Month</nz-form-label>
                <nz-form-control>
                  <nz-range-picker name="month" nzMode="month" [(ngModel)]="MONTH_RANGE"
                    nzPlaceholder="Please select Month" nzFormat="MMM/yyyy"
                    (ngModelChange)="onChangemonth($event)"></nz-range-picker>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="10">
              <nz-form-item class="Changeformitm">
                <nz-form-label nzNoColon>Residance Type</nz-form-label>
                <nz-form-control>
                  <nz-select [(ngModel)]="RESIDENCE_TYPE_ID" name="RESIDENCE_TYPE_ID" style="width: 100%" nzShowSearch
                    nzAllowClear [nzMaxTagCount]="1" nzPlaceHolder="Please Select Residence Type " nzMode="multiple">
                    <nz-option *ngFor="let Residance of ResidenceTypelist" [nzValue]="Residance.ID"
                      [nzLabel]="Residance.TYPE"></nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div>

            <div nz-col nzSpan="7" style="display: flex; gap: 10px; margin-top: 31px">
              <button nz-button [nzLoading]="isSpinning" nzType="primary" class="flexicons" (click)="applyFilter()">
                <i nz-icon nzType="filter"></i>Apply Filter
              </button>
              <button nz-button nzType="primary" class="flexicons" [nzLoading]="isSpinning" (click)="clearFilter()">
                <i nz-icon nzType="close"></i>Clear filter
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div nz-row>
  <div nz-col nzSpan="24">
    <nz-table class="my-scroll no-wrap1" nzBordered #seniorityObjectionDetailedTable nzShowSizeChanger
      [nzFrontPagination]="false" [nzData]="dataList" [nzLoading]="loadingRecords" [nzSize]="'small'"
      [nzTotal]="totalRecords" [nzScroll]="{ y: '400px', x: '1200px' }" [(nzPageIndex)]="pageIndex"
      [(nzPageSize)]="pageSize" (nzPageIndexChange)="search()" (nzPageSizeChange)="search(true)"
      (nzQueryParams)="sort($event)" style="white-space: pre-line;">
      <thead>
        <tr>
          <th nzColumnKey="{{ 'RESIDENCE_TYPE_NAME' }}" nzWidth="150px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Residence Type
          </th>

          <th nzColumnKey="{{ 'EMPLOYEE_NAME' }}" nzWidth="200px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Employee Name
          </th>

          <th nzColumnKey="{{ 'EMPLOYEE_CODE' }}" nzWidth="180px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Employee Code
          </th>
          <th nzColumnKey="{{ 'DESIGNATION' }}" nzWidth="300px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Designation
          </th>
          <th nzColumnKey="{{ 'OBJECTION' }}" nzWidth="230px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Raised objection
          </th>
          <th nzColumnKey="{{ 'RAISE_OBJECTION_DATE_TIME' }}" nzWidth="200px" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Objection Datetime
          </th>
          <th nzWidth="300px" nzColumnKey="{{ 'REMARK' }}" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Objection Remark
          </th>
          <th nzWidth="200px" nzColumnKey="{{ 'RESOLVER_NAME' }}" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Resolved By
          </th>
          <th nzWidth="130px" nzColumnKey="{{ 'ACTION_STATUS' }}" [nzSortFn]="true"
            style="font-weight: bold; text-align: center">
            Status
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of seniorityObjectionDetailedTable.data">
          <td style="text-align: center; white-space: pre-line">
            {{ data["RESIDENCE_TYPE_NAME"]? data["RESIDENCE_TYPE_NAME"]:'_' }}
          </td>
          <td style="white-space: pre-line">
            {{ data["EMPLOYEE_NAME"]? data["EMPLOYEE_NAME"]:'_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            {{ data["EMPLOYEE_CODE"]? data["EMPLOYEE_CODE"]:'_' }}
          </td>
          <td style=" white-space: pre-line">
            {{ data["DESIGNATION"] ? data["DESIGNATION"] : '_' }}
          </td>
          <td style="white-space: pre-line">
            {{ data["OBJECTION"]? data["OBJECTION"]:'_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            {{ data["RAISE_OBJECTION_DATE_TIME"]? (data["RAISE_OBJECTION_DATE_TIME"] | date:'dd/MM/yyyy HH:mm') : '_' }}
          </td>
          <td style="white-space: pre-line">
            {{ data["REMARK"] ?data["REMARK"]:'_' }}
          </td>
          <td style="white-space: pre-line">
            {{ data["RESOLVER_NAME"]?data["RESOLVER_NAME"]:'_' }}
          </td>
          <td style="text-align: center; white-space: pre-line">
            <span *ngIf="data.ACTION_STATUS == 'A'"> Accept </span>
            <span *ngIf="data.ACTION_STATUS == 'R'"> Reject </span>
            <span *ngIf="data.ACTION_STATUS == 'P'"> Pending </span>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </div>
</div>