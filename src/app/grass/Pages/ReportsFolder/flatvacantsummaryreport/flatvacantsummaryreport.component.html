<div nz-row nzType="flex">
    <div nz-col nzXs="24" nzSm="24" nzMd="20" nzLg="20" nzXl="12" nzSpan="12">

        <div class="formname">{{ formTitle }}</div>
    </div>

    <div nz-col nzXs="24" nzSm="24" nzMd="4" nzLg="4" nzXl="12"
        style="display: flex;justify-content: flex-end">
        <form nz-form [nzLayout]="'inline'">
            <div style="display: flex;gap:10px;margin-right:20px">
                <button
                    style="margin:0px 3xp"
                    nz-button
                    nzTooltipTitle="Excel"
                    nzTooltipPlacement="top"
                    nz-tooltip
                    nzType="primary"
                    (click)="importInExcel()"
                    [nzLoading]="exportLoading">
                    <i nz-icon nzType="file-excel" nzTheme="outline"></i>
                </button>

                <button
                    nz-button
                    nzTooltipTitle="Filter"
                    nzTooltipPlacement="top"
                    nz-tooltip
                    [nzType]="isFilterApplied"
                    (click)="showFilter()">
                    <i nz-icon nzType="filter"></i>
                </button>
            </div>
        </form>

        <!-- <form nz-form [nzLayout]="'inline'">
            <nz-form-item class="Changeformitm">
                <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                    <input type="text" name="webbannersearch"
                        (keyup)="keyup($event)" [(ngModel)]="searchText"
                        nz-input
                        placeholder="Search " />
                </nz-input-group>
                <ng-template #suffixIconButton>
                    <button nz-button nzType="primary" (click)="search()"
                        nzSearch><i nz-icon
                            nzType="search"></i></button>
                </ng-template>
            </nz-form-item>
        </form> -->
    </div>

</div>

<div nz-row>
    <div nz-col nzSpan="24">
        <div class="filter {{ filterClass }}">
            <div class="filter-box">
                <form nz-form>
                    <div nz-row>

                        <div nz-col nzSpan="4">
                            <nz-form-item class="Changeformitm">
                                <nz-form-label nzRequired nzNoColon>Select Month</nz-form-label>
                                <nz-form-control
                                    nzErrorTip="Please Select Month">
                                    <nz-date-picker nzMode="month"
                                        nzPlaceholder="Please select Month"
                                        nzFormat="MMM" name="month"
                                        [(ngModel)]="selectmonth"
                                        (ngModelChange)="onChangemonth($event)"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="4">
                            <nz-form-item class="Changeformitm">
                                <nz-form-label nzRequired nzNoColon>Select Year</nz-form-label>
                                <nz-form-control>
                                    <nz-date-picker nzMode="year" name="year"
                                        [(ngModel)]="selectyear"
                                        nzPlaceholder="Please Select Year"
                                        nzFormat="yyyy"
                                        (ngModelChange)="onChangeyear($event)"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                        </div>

                        <div nz-col nzSpan="7">
                            <nz-form-item class="Changeformitm">
                                <nz-form-label nzNoColon>Residence Type</nz-form-label>
                                <nz-form-control>
                                    <nz-select
                                        nzShowSearch
                                        nzAllowClear
                                        [nzMaxTagCount]="2"
                                        nzPlaceHolder="Please Select Residence Type "
                                        name="Residence Type"
                                        nzMode="multiple"
                                        [(ngModel)]="RESIDENCE_TYPE_IDD">
                                        <nz-option
                                            *ngFor="let type of ResidenceTypelist"
                                            [nzValue]="type.ID"
                                            [nzLabel]="type.TYPE">
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                        </div>

                        <!-- <div nz-col nzSpan="8">
                            <nz-form-item  class="Changeformitm">
                                <nz-form-label nzNoColon>Available Status</nz-form-label>
                                <nz-form-control>
                                    <nz-select nzShowSearch nzAllowClear
                                        nzPlaceHolder="Please Select Available Status "
                                        name="Available Status"
                                        [(ngModel)]="AVAILABLE_STATUS">
                                        <nz-option nzValue="B" nzLabel="Booked"></nz-option>
                                        <nz-option nzValue="A"
                                            nzLabel="Available"></nz-option>
                                        <nz-option nzValue="U"
                                            nzLabel="Under Maintainance"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                        </div> -->

                        <div nz-col nzSpan="8"
                            style="display: flex;gap: 10px;margin-top: 31px;">
                            <button nz-button [nzLoading]="isSpinning"
                                nzType="primary"
                                class="flexicons" (click)="applyFilter()">
                                <i nz-icon nzType="filter"></i>Apply Filter
                            </button>
                            <button nz-button nzType="primary" class="flexicons"
                                [nzLoading]="isSpinning"
                                (click)="clearFilter()">
                                <i nz-icon nzType="close"></i>Clear filter
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div nz-row>
    <div nz-col nzSpan="24">
        <nz-table class="my-scroll no-wrap1" nzBordered #Flatvacanttable
            nzShowSizeChanger [nzFrontPagination]="false"
            [nzData]="dataList" [nzLoading]="loadingRecords" [nzSize]="'small'"
            [nzTotal]="totalRecords"
            [nzScroll]="{ y: '400px' }" [(nzPageIndex)]="pageIndex"
            [(nzPageSize)]="pageSize"
            (nzPageIndexChange)="search()" (nzPageSizeChange)="search(true)"
            (nzQueryParams)="sort($event)">

            <thead>
                <tr>
                    <th nzColumnKey="{{ 'RESIDENCE_TYPE_NAME' }}"
                        nzWidth="150px"
                        [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Residence
                        Type</th>
                    <th nzColumnKey="{{ 'TOTAL' }}" nzWidth="100px"
                        [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Total</th>
                    <th nzColumnKey="{{ 'AVAILABLE' }}" nzWidth="150px"
                        [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Available</th>
                    <th nzColumnKey="{{ 'BOOKED' }}" nzWidth="120px"
                        [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Booked</th>
                    <th nzColumnKey="{{ 'UNDER_MAINTENANCE' }}" nzWidth="180px"
                        [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Under
                        Maintainance</th>
                    <th nzColumnKey="{{ 'ACCEPTANCE' }}" nzWidth="150px"
                        [nzSortFn]="true"
                        style="font-weight: bold; text-align: center;">Acceptance</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let data of Flatvacanttable.data">
                    <td style="text-align: center;white-space: pre-line; ">{{data['RESIDENCE_TYPE_NAME']}}</td>
                    <td style="text-align: center;white-space: pre-line; ">{{data['TOTAL']}}</td>
                    <td style="text-align: center;white-space: pre-line; ">{{data['AVAILABLE']}}</td>
                    <td style="text-align: center;white-space: pre-line; ">{{data['BOOKED']}}</td>
                    <td style="text-align: center;white-space: pre-line; ">{{data['UNDER_MAINTENANCE']}}</td>
                    <td style="text-align: center;white-space: pre-line; ">{{data['ACCEPTANCE']}}</td>
                </tr>
            </tbody>
        </nz-table>
    </div>
</div>
